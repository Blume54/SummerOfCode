# Week 4: Your Heroes on your Phone :iphone:

## Day 1: Go Mobile :busstop:
Put your app on your phone!
 - Install the NativeScript command line interface
   ```
   sudo npm install --global nativescript
   ```
 - We need to perform two extra steps because NativeScript is not yet fully compatible with Angular 10 (at the time of writing)
   - Remove the first line (as below) from the files tsconfig.app.json and tsconfig.base.json
     ```
     /* To learn more about this file see: https://angular.io/config/tsconfig. */
     ```
   - Install the Angular 9 version of schematics
     ```
     npm install --save-dev @schematics/angular@^9
     ```
 - Add NativeScript to your app
   ```
   ng add @nativescript/schematics
   ```
 - Run your app to check that it still works as before in the web browser
 - Now we need a couple more tweaks and we're good to go 
   - Install version 5 of the copy-webpack-plugin 
     ```
     npm install --save copy-webpack-plugin@^5
     ```
   - Add the following two lines to the end of the "compilerOptions" section in tsconfig.tns.json
     ```
     "baseUrl": "./",
     "experimentalDecorators": true
     ```
     - You will also need to add a comma at the end of the preceding line which contains a single curly bracket
 - Build the NativeScript app
   ```
   tns preview
   ```
   - This will display a QR code on your screen
 - To preview your app on your phone, you need to install two companion apps on your Android/iOS device(s):
   - NativeScript Playground ([Android](https://play.google.com/store/apps/details?id=org.nativescript.play), [iOS](https://apps.apple.com/us/app/nativescript-playground/id1263543946)) — used to scan a QR code provided by the NativeScript CLI
   - NativeScript Preview ([Android](https://play.google.com/store/apps/details?id=org.nativescript.preview), [iOS](https://apps.apple.com/us/app/nativescript-preview/id1264484702) — used to host display your app
 - Scan the QR code with the NativeScript Playground app, which will connect your project with the NativeScript Preview app
   - If everything works, you will see the following on your phone: "auto-generated works!"
 - As always commit and synchronize your changes

## Day 2: Move your Heroes :dash:  
We want our heroes to work in the web browser and the mobile app.
 - Make sure you read and follow these instructions carefully!
 - Migrate the app navigation
   - Add a shared file with the routes configuration in src/app: app.routes.ts
     ```
     import { Routes } from '@angular/router';
     ```
   - Cut and paste this code block from app-routing-module.ts to app.routes.ts
     ```
     const routes: Routes = [
       ...
     ];
     ```
     - We also need to export the routes, so change the first line to
       ```
       export const routes: Routes = [
       ```
   - Also cut and paste these import statements from app-routing-module.ts to app.routes.ts
     ```
     import { DashboardComponent }   from './dashboard/dashboard.component';
     import { HeroesComponent }      from './heroes/heroes.component';
     import { HeroDetailComponent }  from './hero-detail/hero-detail.component';
     ```
   - Add the following import to app-routing-module.ts
     ```
     import { routes } from './app.routes';
     ```
     - Change this line from
       ```
       import { RouterModule, Routes } from '@angular/router';
       ```
     - To
       ```
       import { RouterModule } from '@angular/router';
       ```
   - Remove this code block from app-routing-module.tns.ts
     ```
     export const routes: Routes = [
       ...
     ];
     ```
   - Add the following import to app-routing-module.tns.ts
     ```
     import { routes } from './app.routes';
     ```
     - And remove these two
       ```
       import { Routes } from '@angular/router';
       import { AutoGeneratedComponent } from '@src/app/auto-generated/auto-generated.component';
       ```
 - To get rid of the warning regarding 'Experimental support for decorators'
   - Go to Preferences -> Settings in Visual Studio Code
   - Enter 'decorator' into the search box
   - Enable the option for experimentalDecorators 
 - Commit and synchronize your changes
   - We won't be reminding you about this anymore
   - By now you surely noticed how useful it is to compare against the last working version in the Source Control tab of Visual Studio
   
